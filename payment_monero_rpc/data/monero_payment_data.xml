<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data noupdate="1">
      <record id="default_monero_rpc_url" model="ir.config_parameter">
          <field name="key">monero.rpc_url</field>
          <field name="value">http://localhost:38082/json_rpc</field>
      </record>
      
      <record id="default_monero_confirmations" model="ir.config_parameter">
          <field name="key">monero.required_confirmations</field>
          <field name="value">2</field>
      </record>

      <record id="currency_xmr" model="res.currency">
          <field name="name">XMR</field>
          <field name="currency_unit_label">Monero</field>
          <field name="display_name">Monero</field>
          <field name="symbol">É±</field>
          <field name="position">after</field>
          <field name="active">True</field>
  <!-- Monero has 12 decimal places, but Odoo only allows up to 6            -->
          <field name="decimal_places">6</field>
          <field name="rounding">0.000001</field>
      </record>

      <record id="payment_method_monero" model="payment.method">
          <field name="name">Monero RPC</field>
          <field name="code">monero_rpc</field>
          <field name="sequence">10</field>
          <field name="active">True</field>
          <field name="support_tokenization">False</field>
          <field name="support_express_checkout">True</field>
          <field name="support_refund">none</field>
          <field name="supported_currency_ids" eval="[(4, ref('currency_xmr')), (4, ref('base.USD'), (4, ref('base.EUR'), (4, ref('base.CNY'), (4, ref('base.GBP'))]"/>
      </record>        

      <record id="payment_provider_monero_rpc" model="payment.provider">
          <field name="name">Monero RPC</field>
          <field name="code">monero_rpc</field>
          <field name="state">enabled</field>
          <field name="is_published">True</field>
          <field name="allow_tokenization">False</field>
          <field name="allow_express_checkout">True</field>
          <field name="main_currency_id" ref="currency_xmr"/>
          <field name="available_currency_ids" eval="[(4, ref('currency_xmr')), (4, ref('base.USD'), (4, ref('base.EUR'), (4, ref('base.CNY'), (4, ref('base.GBP'))]"/>
          <field name="network_type">stagenet</field>
          <field name="daemon_rpc_url">http://localhost:38081/json_rpc</field>
          <field name="rpc_url">http://localhost:38082/json_rpc</field>
          <field name="rpc_user">rpc_user</field>
          <field name="rpc_password">rpc_password</field>
          <field name="rpc_timeout">180</field>
          <field name="wallet_file">odoo_wallet</field>
          <field name="wallet_password">odoo_wallet_password</field>
          <field name="wallet_dir">/home/niyid/monero-x86_64-linux-gnu-v0.18.3.4/wallets</field>
          <field name="exchange_rate_api">https://api.coingecko.com/api/v3/simple/price</field>
          <field name="manual_rates" eval="{'USD': 200, 'EUR': 180}"/>
          <field name="payment_method_ids" eval="[(4, ref('payment_method_monero'))]"/>
      </record>
      
      <record id="monero_rpc_payment_method" model="pos.payment.method">
          <field name="name">Monero RPC</field>
          <field name="is_cash_count">False</field>
          <field name="use_payment_terminal">True</field>
      </record>

      <record id="action_monero_payments" model="ir.actions.act_window">
          <field name="name">Monero Payments</field>
          <field name="res_model">monero.payment</field>
          <field name="view_mode">list,form</field>
          <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                  No payments found. You'll see Monero payments here after they're created.
              </p>
          </field>
      </record>
      
      <record id="seq_monero_payment" model="ir.sequence">
          <field name="name">Monero Payment Reference</field>
          <field name="code">monero.payment</field>
          <field name="prefix">XMR-</field>
          <field name="padding">4</field>
          <field name="company_id" eval="False"/>
      </record>    
  </data>
</odoo>
